(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{120:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),c=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),d=c(n),p=o,b=d["".concat(i,".").concat(p)]||d[p]||h[p]||a;return n?r.a.createElement(b,l(l({ref:t},s),{},{components:n})):r.a.createElement(b,l({ref:t},s))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=p;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},94:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return s}));var o=n(3),r=(n(0),n(120));const a={id:"Custom",title:"Custom Call To Action",sidebar_label:"Custom Call To Action",slug:"/Custom"},i={unversionedId:"CTA/Custom",id:"CTA/Custom",isDocsHomePage:!1,title:"Custom Call To Action",description:"Occasionally, a dealership may not want one of the button styles from the styles provided in Apply,  Car Finance Check, Reserve. Another advantage of going the custom button route is that you can implement as many of these on a single page, without the embeddable widget merging all these into one location on the page. This is useful, if for instance, you would like a custom button on a stock listing page.",source:"@site/docs/CTA/Custom.mdx",slug:"/Custom",permalink:"/documentation/docs/Custom",editUrl:"https://github.com/ivendi-support/documentation-src/edit/master/documentation/docs/CTA/Custom.mdx",version:"current",sidebar_label:"Custom Call To Action",sidebar:"someSidebar",previous:{title:"Reserve",permalink:"/documentation/docs/Reserve"},next:{title:"Videos",permalink:"/documentation/docs/HP"}},l=[{value:"Getting Started",id:"getting-started",children:[]},{value:"URL",id:"url",children:[{value:"Quote ID",id:"quote-id",children:[]}]},{value:"Example",id:"example",children:[{value:"Generate the button",id:"generate-the-button",children:[]},{value:"Generate the link",id:"generate-the-link",children:[]},{value:"All together",id:"all-together",children:[]}]}],u={toc:l};function s({components:e,...t}){return Object(r.b)("wrapper",Object(o.a)({},u,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Occasionally, a dealership may not want one of the button styles from the styles provided in ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"Apply"}),"Apply"),",  ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"CFC"}),"Car Finance Check"),", ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"Reserve"}),"Reserve"),". Another advantage of going the custom button route is that you can implement as many of these on a single page, without the embeddable widget merging all these into one location on the page. This is useful, if for instance, you would like a custom button on a stock listing page."),Object(r.b)("h2",{id:"getting-started"},"Getting Started"),Object(r.b)("p",null,"To create a custom call to action button you will need to be familiar with the Quoteware API. If you aren't, please go ahead and read the documentation, ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/documentation/docs/"}),"here"),"."),Object(r.b)("h2",{id:"url"},"URL"),Object(r.b)("p",null,"To create a custom call to action you will need to generate a URL for the button that links to a quote, returned from the Quoteware API."),Object(r.b)("p",null,"The below link is the one that needs to be populated with the results from the Quoteware API:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),"\nhttps://my.newvehicle.com/start?quoteId=#QUOTEID&imageUrl=#IMAGEURL?width=350&returnUrl=#RETURNURL&redirectTo=#REDIRECTTO\n\n")),Object(r.b)("p",null,"As you can see we have 4 parameters in the url. The parameters are:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"quoteID, used to identify which quote to use."),Object(r.b)("li",{parentName:"ol"},"imageURL, the url of the image of the vehicle to use"),Object(r.b)("li",{parentName:"ol"},"returnURL, Where should the user be returned to after completing the action."),Object(r.b)("li",{parentName:"ol"},"redirectTo, what CTA action should be used:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"For a Finance Check CTA use ",Object(r.b)("inlineCode",{parentName:"li"},"redirectTo=finance-check")),Object(r.b)("li",{parentName:"ul"},"For an Apply CTA use ",Object(r.b)("inlineCode",{parentName:"li"},"redirectTo=apply")),Object(r.b)("li",{parentName:"ul"},"For a Reserve CTA ise ",Object(r.b)("inlineCode",{parentName:"li"},"redirectTo=reserve-vehicle"))))),Object(r.b)("h3",{id:"quote-id"},"Quote ID"),Object(r.b)("p",null,"To generate the quoteID you will need to send a request to Quoteware, and then parse the response for the QuoteUID that you would like to use in the finance check. QuoteUID is in the Product Quote Group object in the response."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"application/json")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json",metastring:'{13} title="Partial Quoteware Response"',"{13}":!0,title:'"Partial',Quoteware:!0,'Response"':!0}),'...\n},\n                  "FunderCode": "BLA",\n                  "FunderProductCode": "HP",\n                  "ParentQuoteUID": null,\n                  "ProductCode": "HP",\n                  "ProductName": "Blackhorse HP APR - Standard Rate",\n                  "ProductUID": "b644028d-c545-4a54-ba3a-004007009d3b",\n                  "CreditTier": "None",\n                  "QuotedDateTime": "/Date(1614772549066+0000)/",\n                  "QuoteeProductCode": "HP",\n                  "QuoteeUid": "268e8202-338e-4b26-a6fe-74bcdab0a357",\n                  "QuoteUID": "03031155-49f1-41f3-b332-5235d0263664",\n                  "WithinPaymentRange": "None",\n                  "Errors": null,\n                  "hasErrors": false,\n                  "hasWarnings": false,\n                  "Warnings": null\n                }\n...\n')),Object(r.b)("h2",{id:"example"},"Example"),Object(r.b)("p",null,"Please see the below, full example of how to generate a custom CTA for Finance Check"),Object(r.b)("h3",{id:"generate-the-button"},"Generate the button"),Object(r.b)("p",null,"First we need to create the button that we will attach the link to"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-html",metastring:'title="HTML"',title:'"HTML"'}),'\n<h1>\n  Custom Vehicle Finance Check Call to Action\n</h1>\n\n<a target="_blank" rel="noopener noreferrer" id="customFinanceCheckButton">\n  Free Finance Check\n</a>\n\n')),Object(r.b)("h3",{id:"generate-the-link"},"Generate the link"),Object(r.b)("p",null,"The following javascript shows the process of getting a quote from Quoteware, parsing it for the quoteId and then changing the URL to use that quoteId."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:'title="javascript"',title:'"javascript"'}),'var FINANCE_CHECK_LINK =\n  "https://my.newvehicle.com/start?quoteId=#QUOTEID&imageUrl=#IMAGEURL?width=350&returnUrl=#RETURNURL&redirectTo=finance-check";\n\nvar vehicleObj = `\n  {\n    "Credentials": {\n        "Username": "www.ivendimotors.com"\n    },\n    "QuoteRequests": [{\n        "QuoteeUID": "268E8202-338E-4B26-A6FE-74BCDAB0A357",\n        "GlobalRequestSettings": {\n            "AllowAdjustments": true\n        },\n        "GlobalRequestParameters": {\n            "Term": "48"\n        },\n        "Requests": [{\n            "Figures": {\n                "Asset": {\n                    "AnnualDistance": "10000",\n                    "VATIncluded": true,\n                    "VATQualifying": false\n                },\n                "CashDeposit": "1000",\n                "CashPrice": "16000"\n            },\n            "Asset": {\n                "Class": "car",\n                "Condition": "used",\n                "CurrentOdometerReading": "13583",\n                "Identity": "CX17HHA",\n                "IdentityType": "VRM",\n                "RegistrationDate": "24/03/2017",\n                "StockIdentity": null,\n                "StockLocation": null,\n                "RegistrationMark": "CX17HHA"\n            }\n        }]\n    }]\n}\n`;\n\n$.ajax({\n  type: "POST",\n  headers: {\n    "Content-Type": "application/json",\n  },\n  url: "https://quoteware3.ivendi.com/quotes",\n  data: vehicleObj,\n  success: (data) => {\n    let quoteResults = data;\n    var quoteResult;\n\n    for (var i = 0; i < quoteResults.QuoteResults[0].Results.length; i++) {\n      quoteResult = quoteResults.QuoteResults[0].Results[i];\n    }\n    let hirePurchaseQuotations = quoteResult.ProductGroups.find(\n      (x) => x.FacilityType == "HP"\n    );\n    let firstHirePurchaseQuotationWithoutErrors = hirePurchaseQuotations.ProductQuotes.find(\n      (x) => x.hasErrors == false\n    );\n    document.getElementById(\n      "customFinanceCheckButton"\n    ).href = FINANCE_CHECK_LINK.replace(\n      "#QUOTEID",\n      firstHirePurchaseQuotationWithoutErrors.QuoteUID\n    )\n      .replace("#IMAGEURL", "noimage")\n      .replace("#RETURNURL", "noreturn");\n\n    console.log(firstHirePurchaseQuotationWithoutErrors);\n  },\n  error: (e) => {\n    console.log(e);\n  },\n});\n\n\n')),Object(r.b)("h3",{id:"all-together"},"All together"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:"live",live:!0}),'function Button() {\n  function Request() {\n    var FINANCE_CHECK_LINK =\n      "https://my.newvehicle.com/start?quoteId=#QUOTEID&imageUrl=#IMAGEURL?width=350&returnUrl=#RETURNURL&redirectTo=finance-check";\n\n    var vehicleObj = `\n  {\n    "Credentials": {\n        "Username": "www.ivendimotors.com"\n    },\n    "QuoteRequests": [{\n        "QuoteeUID": "268E8202-338E-4B26-A6FE-74BCDAB0A357",\n        "GlobalRequestSettings": {\n            "AllowAdjustments": true\n        },\n        "GlobalRequestParameters": {\n            "Term": "48"\n        },\n        "Requests": [{\n            "Figures": {\n                "Asset": {\n                    "AnnualDistance": "10000",\n                    "VATIncluded": true,\n                    "VATQualifying": false\n                },\n                "CashDeposit": "1000",\n                "CashPrice": "16000"\n            },\n            "Asset": {\n                "Class": "car",\n                "Condition": "used",\n                "CurrentOdometerReading": "13583",\n                "Identity": "CX17HHA",\n                "IdentityType": "VRM",\n                "RegistrationDate": "24/03/2017",\n                "StockIdentity": null,\n                "StockLocation": null,\n                "RegistrationMark": "CX17HHA"\n            }\n        }]\n    }]\n}\n`;\n\n    $.ajax({\n      type: "POST",\n      headers: {\n        "Content-Type": "application/json",\n      },\n      url: "https://quoteware3.ivendi.com/quotes",\n      data: vehicleObj,\n      success: (data) => {\n        let quoteResults = data;\n        var quoteResult;\n\n        for (var i = 0; i < quoteResults.QuoteResults[0].Results.length; i++) {\n          quoteResult = quoteResults.QuoteResults[0].Results[i];\n        }\n        let hirePurchaseQuotations = quoteResult.ProductGroups.find(\n          (x) => x.FacilityType == "HP"\n        );\n        let firstHirePurchaseQuotationWithoutErrors = hirePurchaseQuotations.ProductQuotes.find(\n          (x) => x.hasErrors == false\n        );\n        document.getElementById(\n          "customFinanceCheckButton"\n        ).href = FINANCE_CHECK_LINK.replace(\n          "#QUOTEID",\n          firstHirePurchaseQuotationWithoutErrors.QuoteUID\n        )\n          .replace("#IMAGEURL", "noimage")\n          .replace("#RETURNURL", "noreturn");\n\n        console.log(firstHirePurchaseQuotationWithoutErrors);\n      },\n      error: (e) => {\n        console.log(e);\n      },\n    });\n  }\n  return (\n    <>\n      <h1>Custom Vehicle Finance Check Call to Action</h1>\n      <a\n        target="_blank"\n        rel="noopener noreferrer"\n        id="customFinanceCheckButton"\n        onClick={Request}\n        style={{\n          outline: "none",\n          border: "none",\n          display: "block",\n          color: "#FFF",\n          padding: "15px",\n          width: "auto",\n          textAlign: "center",\n          backgroundColor: "orange",\n        }}\n      >\n        Free Finance Check\n      </a>\n    </>\n  );\n}\n')))}s.isMDXComponent=!0}}]);